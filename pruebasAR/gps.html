<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>GeoAR.js demo</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
    <script src="https://unpkg.com/aframe-gps-camera@latest/dist/aframe-gps-camera.min.js"></script>
    <script src="scripts/LoaderGPSAtPosition.js"></script>
    <link rel="stylesheet" href="CSS/style.css">
    <link rel="stylesheet" href="CSS/loader.css">
  </head>

  <body>
    <script>
      function randomNumber(min, max) {
        return Math.random() * (max - min) + min;
    }
    </script>
    <a-scene  vr-mode="enabled: false">
      <a-camera gps-camera rotation-reader far="200"> </a-camera>
    </a-scene>
    <script>
      document.querySelector("[gps-camera]").addEventListener("gps-camera-update-position", (e) => {
        console.log("Position updated:", e.detail.position);
      });
      function randomNumber(min, max) {
        return Math.random() * (max - min) + min;
    }
    
window.addEventListener('load', () => {
  if ('geolocation' in navigator) {
    navigator.geolocation.getCurrentPosition((position) => {
        const userLatitude = position.coords.latitude;
        const userLongitude = position.coords.longitude;

        // Genera una posición aleatoria alrededor del usuario
        const randomLatitude = userLatitude + randomNumber(-0.001, 0.001); // +- 0.001 grados (~111m)
        const randomLongitude = userLongitude + randomNumber(-0.001, 0.001); // +- 0.001 grados (~111m)

        // Seleccionar el objeto y asignar la nueva posición aleatoria
        const club = document.querySelector('#club');
        club.setAttribute('gps-entity-place', `latitude: ${randomLatitude}; longitude: ${randomLongitude}`);

        console.log(`Objeto generado en: Latitude: ${randomLatitude}, Longitude: ${randomLongitude}`);
    }, (error) => {
        console.error('Error obteniendo la posición:', error);
    });
} else {
    console.error('Geolocalización no está disponible en este navegador.');
}
  
  
  //setAttribute('gps-entity-place', 'longitude:' + (prize.coords.longitude + randomlongitude) + '; latitude: ' + (prize.coords.latitude + randomLatitude) + ';');
});

    </script>


    <div class="contenedor">
      <div style="position:absolute;left: 3%;top: 3%;color: #00a4e3;">Estás en:</div>
      <a href="https://www.bwcolombia.co/" class="back" onclick="window.close()">
          <img src="recursos/ico_ovalo_simple.png" class='ojo'/>
          <img src="recursos/ico_atras.png" class="heaven"/>
      </a>


      <div style="position: absolute;" class="centrar">
          <img id="img1" src="recursos/ico_border_segment.png" class='ojo_centro'/> 
          <script>rotateAnimation("img1",30);</script>                    
          <img src="recursos/ico_border_segment_blanco.png" class="heaven_centro"/>
      </div>

      
      <div class="gift">
          <img src="recursos/ico_oval_dashed.png" class='ojo'/>
          <img src="recursos/icon_award.png" class="heaven_gift"/>
      </div>
  </div>

  <!-- LOADER -->
  <div id="loader" class="container-loader">
      <div class="lds-spinner"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
  </div>

  <!-- MESSAGE WIN -->
  <div id="message-win" class="container-message">
      <button onclick="hiddenMessageWin()" class="close-message-win" >CERRAR</button>
      <img src="images/ganaste_premio.png" alt="" class="win-product-image">
  </div>

  </body>
</html>
        
      